{"body": [{"indent": 0, "text": ["Subdivide"], "type": "title", "level": 0}, {"indent": 0, "type": "summary", "text": ["Subdivides polygons into smoother, higher-resolution polygons."]}, {"indent": 0, "type": "para", "text": ["This node takes an input polygon surface (which can be piped into one or\nboth inputs), and divides each face to create a smoothed polygon surface\nusing a Catmull-Clark subdivision algorithm. It is similar to the Paste\nop in that it divides up all or part of a surface allowing you to\nincrease areas of local detail (especially useful for avoiding the\nangular appearance often associated with polygonal models) without\nadding lots of extra geometry to the entire object. While the topology\nof the input mesh can be arbitrary, for best results all polygons should\nbe convex and relatively uniform in distribution."]}, {"indent": 0, "type": "para", "text": ["All polygons in the left input which are specified by the \"Group\" field\nare used to determine the polygon mesh to subdivide. For polygon edges\nto be classified as the same edge, they must share the same points.\nMerely being physically close is not sufficient."]}, {"indent": 0, "type": "para", "text": ["The elements of the right input specified by the \"Creases\" field are\nused as creases. Each edge in a crease polygon corresponds to the edge\nin the polygon mesh which has the same point numbers. Again, point\nposition is irrelevant."]}, {"indent": 0, "type": "para", "text": ["Vertex attributes are supported and preserved, however, instead of being\nproperly subdivided they are merely linearly interpolated."]}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "text": ["Select the faces or edges you want to subdivide."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["Click the ", {"_hs_sc": true, "text": "", "value": "SOP/subdivide", "fullpath": "/nodes/sop/SOP/subdivide", "scheme": "Icon", "type": "link"}, {"_hs_sc": true, "text": ["Subdivide"], "value": "/nodes/sop/subdivide", "fullpath": "/nodes/sop/subdivide", "scheme": null, "type": "link"}, " tool on the ", {"text": ["Polygon"], "type": "ui"}, " tab."]}, {"body": [{"indent": 8, "type": "para", "text": ["Each level recursively subdivides the original control polygons, so you should avoid high levels (above 3) or you will get extremely complex geometry. Add detail where it is needed (see below) rather than increasing the detail of the entire surface."]}], "indent": 4, "blevel": 6, "type": "ord", "text": ["In the ", {"_hs_sc": true, "text": ["parameter editor"], "value": "/ref/panes/parms", "fullpath": "/ref/panes/parms", "scheme": null, "type": "link"}, ", use the ", {"text": ["Depth"], "type": "ui"}, " parameter to control the level of smoothness."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": ["Subdivide a polygonal surface"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "text": ["Select the faces of the subdivision surface you want to further subdivide."]}, {"body": [{"indent": 8, "type": "para", "text": ["You can use this technique to add extra levels of detail to various areas and to various depths."]}], "indent": 4, "blevel": 6, "type": "ord", "text": ["Click the ", {"_hs_sc": true, "text": "", "value": "SOP/subdivide", "fullpath": "/nodes/sop/SOP/subdivide", "scheme": "Icon", "type": "link"}, {"_hs_sc": true, "text": ["Subdivide"], "value": "/nodes/sop/subdivide", "fullpath": "/nodes/sop/subdivide", "scheme": null, "type": "link"}, " tool on the ", {"text": ["Polygon"], "type": "ui"}, " tab."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": ["Add local detail"]}], "container": true, "role": "item_group", "type": "task_group"}, {"indent": 0, "type": "para", "text": [{"_hs_sc": true, "text": "", "value": "/images/shelf/subdivide_before.png", "fullpath": "/images/shelf/subdivide_before.png", "scheme": "Image", "type": "link"}, " ", {"_hs_sc": true, "text": "", "value": "/images/shelf/subdivide_after.png", "fullpath": "/images/shelf/subdivide_after.png", "scheme": "Image", "type": "link"}]}], "indent": 0, "level": 2, "text": ["Using Subdivide"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "text": ["After you create the initial subdivided surface, use the  ", {"_hs_sc": true, "text": ["tab\n      menu"], "value": "/basics/tabmenu", "fullpath": "/basics/tabmenu", "scheme": null, "type": "link"}, "  to select the ", {"_hs_sc": true, "text": ["Subdivide\n      operator"], "value": "/nodes/sop/subdivide", "fullpath": "/nodes/sop/subdivide", "scheme": "Node", "type": "link"}, " again."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["Select the faces of the subdivision surface you want to\n      further subdivide, then press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " to finish the\n      selection."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["You can use this technique to add extra levels of detail to\n      various areas and to various depths."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": ["Add local detail"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "ord", "text": ["Make sure the polygonal control cage is visible."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["In the viewer, use the  ", {"_hs_sc": true, "text": ["tab menu"], "value": "/basics/tabmenu", "fullpath": "/basics/tabmenu", "scheme": null, "type": "link"}, "  to select the\n      ", {"_hs_sc": true, "text": ["Crease operator"], "value": "/nodes/sop/crease", "fullpath": "/nodes/sop/crease", "scheme": "Node", "type": "link"}, "."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["Press ", {"keys": ["3"], "text": null, "type": "keys"}, " for edge selection mode."]}, {"indent": 4, "blevel": 6, "type": "ord", "text": ["Select the edges you want to crease, then press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " to\n      finish the selection."]}, {"body": [{"indent": 6, "type": "para", "text": ["This adds the crease attribute to the selected edges. The\n      Subdivision node picks up the attribute and uses it to crease\n      the surface."]}], "indent": 4, "blevel": 6, "type": "ord", "text": ["In the parameter editor, set the ", {"text": ["Operation"], "type": "ui"}, " and ", {"text": ["Crease"], "type": "ui"}, "\n      parameters."]}], "container": true, "type": "ord_group"}], "indent": 0, "role": "item", "type": "task", "text": ["Crease edges interactively"]}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": ["Specify faces in the Subdivision node\u2019s ", {"text": ["Creases"], "type": "ui"}, " parameter\n      and then set the ", {"text": ["Crease weight"], "type": "ui"}, " parameter."]}], "container": true, "type": "bullet_group"}], "indent": 0, "role": "item", "type": "task", "text": ["Crease edges by number"]}], "container": true, "role": "item_group", "type": "task_group"}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["The RenderMan renderer will directly use the Crease attribute\n    applied by the Crease Operation, but it will ", {"text": ["not"], "type": "em"}, " be used by the\n    Mantra renderer due to patent issues."]}], "indent": 0, "role": "item", "type": "warning"}], "container": true, "role": "item_group", "type": "warning_group"}], "indent": 0, "level": 2, "text": ["How to"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["Creases control the strength of pull of the polygon faces on the\nsubdivision surfaces, much like a magnet drawing the surface towards\nthe reference polygon. They can be applied selectively using the\nCreases field to specify an input group to use."]}, {"indent": 0, "type": "para", "text": ["Creases work by controlling the strength of the pull of the polygon\nfaces on the subdivision surfaces, like a magnet drawing the surface\ntowards the reference polygon. The figure below shows the result of\nsetting the ", {"text": ["Crease Weight"], "type": "em"}, " to 0, 1, 2 reading from left to right.\nAs the weight increases so the pull effect strengthens and the shape\napproaches the reference polygon."]}, {"indent": 0, "type": "para", "text": [{"_hs_sc": true, "text": "", "value": "../images/Subdivision-Creases.jpg", "fullpath": "/nodes/images/Subdivision-Creases.jpg", "scheme": "Image", "type": "link"}]}], "indent": 0, "level": 2, "text": ["Creases"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["Crease weight attributes which are added, but not yet Subdivided are\npreserved when a rib file is generated. They are then used\ninternally by RenderMan to implement subdivision surfaces during the\nrendering process."]}, {"body": [{"body": [{"indent": 4, "type": "para", "text": ["In order to output the crease weights in the rib file, your geo\n    object must have the Render page > Geometry > Polygons as\n    Subdivision Surfaces parameter set."]}], "indent": 0, "role": "item", "type": "note"}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 0, "level": 2, "text": ["Crease Weights and Renderman"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["If there is a second input:"]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["If the Override button is enabled, each edge defined in the second\n  input will have its edge crease weight set to the value of the\n  override."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["If the vertex attribute \"creaseweight\" exists on the second input,\n  each matching edge in the input will have its crease weight set to\n  the maximum of the vertex attributes for any shared edges."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["If the primitive attribute \"creaseweight\" exists on the second\n  input, each polygon in the second input will set matching edges to\n  the appropriate weights."]}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "text": ["If there is no second input:"]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "text": ["If an override is specified, the value of the override is used for\n  all edges in the sub-divided surface."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["If the vertex attribute \"creaseweight\" exists, this attribute will\n  be used to define the crease weights on the edges of the surface."]}, {"indent": 0, "blevel": 2, "type": "bullet", "text": ["If the primitive attribute \"creaseweight\" exists, this attribute\n  will be used to define the crease weights for the subdivision\n  surface."]}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "text": ["When defining crease weights on shared edges, the maximum of the\nweights of the shared edges is used. For example, if two polygons\nshare an edge and the primitive attribute is used, the maximum of\nthe crease weight will be used for the shared edge."]}], "indent": 0, "level": 2, "text": ["The Crease Algorithm"], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "text": ["Cracks can be closed by either Pulling or Stitching, so only one of\nthese two options can be chosen at a time from the Surrounding Faces\nparameter. Bias applies only to Pulling, and is disabled when\nStitching is chosen."]}, {"indent": 0, "type": "para", "text": ["A crack is formed by a single edge on the non-subdivided area and\nmultiple edges on the subdivided area. The 'Surrounding Faces' menu\ndetermines what will will happen to the single edge on the\nnon-subdivided area, and in more generally, to the polygon\ncontaining this edge."]}, {"indent": 0, "type": "para", "text": ["If No Edge Division is chosen and cracks are pulled closed, all the\npoints on the subdivided edges are pulled (i.e. moved) to the\nclosest points on the non-subdivided edges. Bias is disabled, when\nNo Edge Division is specified."]}, {"indent": 0, "type": "para", "text": ["If cracks are pulled with the Divide Edges option, the\nnon-subdivided edge is split into many sections, so that each each\npoint on the non-subdivided edge now corresponds to a new point on\nthe subdivided edge. Then, points on the newly divided edge are\njoined with the points on the subdivided boundary. A Bias of 1 will\nplace these joined points along the subdivided boundary. A bias of 0\nwill place them along the non- subdivided boundary (and values\nbetween 0 and 1 will place them somewhere in between)."]}, {"indent": 0, "type": "para", "text": ["Pulling cracks with the Triangulate option will do exactly the same\nthing as Divide Edges, except it will also triangulate the\nnon-subdivided polygon. This is desirable because pulling the\nnon-subdivided boundary towards the curved subdivided boundary will\nlikely generate a non-planar polygon, so Triangulate will divide\nthis polygon into smaller (planar) ones. Pulling cracks with a Bias\nof 1 and triangulating usually produces the nicest results."]}, {"indent": 0, "type": "para", "text": ["The Triangulate option is necessary because the Divide op is not\ndesigned to handle (very) non-planar polygons."]}, {"indent": 0, "type": "para", "text": ["The Stitch Cracks Together option, on the other hand, inserts new\npolygons (triangles) to close up the cracks. When No Edge Division\nis chosen, Many triangles are created, each having one vertex on one\npoint of the non-subdivided edge."]}, {"indent": 0, "type": "para", "text": ["When Divide Boundary Edges is chosen, the non-subdivided edge is\ndivided, so there are more points available to be used for\ntriangles. The resulting triangles are more regularly shaped (not as\nlong and skinny). The triangulate option will again triangulate the\nnon-subdivided polygon, although this option is less likely to be\nused because this polygon should remain planar during stitching."]}, {"indent": 0, "type": "para", "text": [""]}], "indent": 0, "level": 2, "text": ["Closing Cracks"], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "text": ["Subset to use as a polygonal mesh and subdivide"]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Group"]}, {"body": [{"indent": 8, "type": "para", "text": ["Subset (of right input) to use as creases"]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Creases"]}, {"body": [{"indent": 8, "type": "para", "text": ["Choose the algorithm used to perform subdivision."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Wses Houdini\u2019s native subdivision algorithm."]}], "indent": 8, "type": "dt", "text": ["Houdini Catmull-Clark"]}, {"body": [{"indent": 16, "type": "para", "text": ["Uses mantra-style subdivision."]}], "indent": 8, "type": "dt", "text": ["Mantra Compatible Catmull-Clark"]}, {"body": [{"indent": 16, "type": "para", "text": ["Uses the Open Subdiv library to perform subdivision."]}], "indent": 8, "type": "dt", "text": ["OpenSubdiv Catmull-Clark"]}, {"body": [{"indent": 16, "type": "para", "text": ["Uses the Open Subdiv library to perform Loop subdivision (more suitable for models made of triangles)."]}], "indent": 8, "type": "dt", "text": ["OpenSubdiv Loop"]}, {"body": [{"indent": 16, "type": "para", "text": ["Uses the Open Subdiv library to perform bilinear refinement (with no blending of vertices)."]}], "indent": 8, "type": "dt", "text": ["OpenSubdiv Bilinear"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Algorithm"]}, {"body": [{"indent": 8, "type": "para", "text": ["How many iterations to subdivide, higher numbers give a smoother surface."]}], "indent": 0, "text": ["Depth"], "role": "item", "attrs": {"channels": "/iterations"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["Determine if the crease sharpness should be determined by the primitive or vertex ", {"text": ["creaseweight"], "type": "code"}, " attribute or by overridden by this operation."]}], "indent": 0, "text": ["Override Crease Weight Attribute"], "role": "item", "attrs": {"channels": "/overridecrease"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["If the crease weight is overridden, this is the weight used."]}], "indent": 0, "text": ["Crease Weight"], "role": "item", "attrs": {"channels": "/creaseweight"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["If the creases are sharper than the depth, some will still be present in the final geometry. This option determines if they will be present in the resulting geometry."]}], "indent": 0, "text": ["Generate Resulting Creases"], "role": "item", "attrs": {"channels": "/outputcrease"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["Name of the group to place all generated creases into."]}], "indent": 0, "text": ["New Group"], "role": "item", "attrs": {"channels": "/outcreasegroup"}, "type": "parameters_item"}, {"body": [{"body": [{"body": [{"indent": 16, "type": "para", "text": ["Don\u2019t close cracks."]}], "indent": 8, "type": "dt", "text": ["Do Not Close"]}, {"body": [{"indent": 16, "type": "para", "text": ["Move points on boundary of subdivided area in order to close cracks formed during the subdivision."]}], "indent": 8, "type": "dt", "text": ["Pull Cracks Closed"]}, {"body": [{"indent": 16, "type": "para", "text": ["Add polygons to close the cracks caused by subdividing.  "]}], "indent": 8, "type": "dt", "text": ["Stitch Cracks Together"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Close Cracks"]}, {"body": [{"body": [{"body": [{"indent": 16, "type": "para", "text": ["Do not divide edges."]}], "indent": 8, "type": "dt", "text": ["No Edge Division"]}, {"body": [{"indent": 16, "type": "para", "text": ["Whether or not to divide edges surrounding subdivided area when pulling or stitching cracks."]}], "indent": 8, "type": "dt", "text": ["Divide Edges"]}, {"body": [{"indent": 16, "type": "para", "text": ["Whether or not to triangulate the polygons on the boundary of the cracks."]}], "indent": 8, "type": "dt", "text": ["Triangulate"]}], "container": true, "type": "dt_group"}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Boundary"]}, {"body": [{"indent": 8, "type": "para", "text": ["Determines which points are moved when pulling cracks closed."]}, {"body": [{"body": [{"indent": 16, "type": "para", "text": ["Means move points on subdivided area to meet boundary."]}], "indent": 8, "type": "dt", "text": ["0"]}, {"body": [{"indent": 16, "type": "para", "text": ["Means move points on boundary to meet subdivided area."]}], "indent": 8, "type": "dt", "text": ["1"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Bias"], "role": "item", "attrs": {"channels": "/bias"}, "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "text": ["Re-evaluates point normals if they exist. If this is not set, the point normals will be interpolated in the same manner as the points."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Recompute Point Normals"]}, {"body": [{"indent": 8, "type": "para", "text": ["If on, vertex attributes will be smoothed in the same manner as the point attributes. However, vertex attributes at seams (places where points meet but the vertex attributes differ) will still be linearly interpolated. If off, the vertex attributes will be linearly interpolated. To match the Mantra subdivision rendering, this should be set to off."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Smooth Vertex Attributes"]}, {"body": [{"indent": 8, "type": "para", "text": ["If ", {"text": ["Pull Cracks Closed"], "type": "ui"}, " or ", {"text": ["Stitch Cracks Together"], "type": "ui"}, " is enabled, different topology might be generated depending on boundary edges between the subdivided primitives and their non-subdivided neighbors. Turning on this option will ensure that this behavior will always produce consistent topology by disregarding collinear edges."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Enforce Consistent Topology"]}, {"body": [{"indent": 8, "type": "para", "text": ["If this option is turned on will switch from the standard (RenderMan) style creases to Mantra\u2019s linear creases."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Linear Creases"]}, {"body": [{"indent": 8, "type": "para", "text": ["Creates polygon soup primitives instead of separate polygon primitives."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Build Polygon Soups"]}, {"body": [{"indent": 8, "type": "para", "text": ["If you are subdividing polygon curves and this option is enabled, the possibility of sharing points between curves will be ignored. Each polygon will be subdivided as if each vertex has its own point. This is slightly faster, and since the viewport and Mantra make this assumption when rendering polygon curves as subdivision curves,\n        the results will be consistent."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Treat All Curves as Independent"]}, {"body": [{"indent": 8, "type": "para", "text": ["When using OpenSubdiv for refinement, this determines the ", {"text": ["interpolateboundary"], "type": "code"}, " setting for point attributes."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Point Attributes"]}, {"body": [{"indent": 8, "type": "para", "text": ["When using OpenSubdiv for refinement, this determines the ", {"text": ["interpolateboundary"], "type": "code"}, " setting for vertex attributes."]}], "indent": 0, "role": "item", "type": "parameters_item", "text": ["Vertex Attributes"]}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "text": [{"_hs_sc": true, "text": "", "value": "/nodes/sop/crease", "fullpath": "/nodes/sop/crease", "scheme": "Node", "type": "link"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"_hs_sc": true, "text": "", "value": "/nodes/sop/divide", "fullpath": "/nodes/sop/divide", "scheme": "Node", "type": "link"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"_hs_sc": true, "text": "", "value": "/nodes/sop/smooth", "fullpath": "/nodes/sop/smooth", "scheme": "Node", "type": "link"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "text": [{"_hs_sc": true, "text": "", "value": "/nodes/sop/tridivide", "fullpath": "/nodes/sop/tridivide", "scheme": "Node", "type": "link"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "container": true, "type": "related_section", "id": "related"}], "summary": ["Subdivides polygons into smoother, higher-resolution polygons."], "type": "root", "attrs": {"version": null, "tags": "reshape, smooth, crease, subdivide, boxup", "namespace": null, "internal": "subdivide", "context": "sop", "type": "node", "icon": "SOP/subdivide"}, "title": ["Subdivide"]}